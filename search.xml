<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Ubuntu安装配置指南</title>
      <link href="/post/d5b10a94.html"/>
      <url>/post/d5b10a94.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><h2 id="ubuntu简介"><a href="#ubuntu简介" class="headerlink" title="ubuntu简介"></a>ubuntu简介</h2><p>​<code>Ubuntu</code>是一个以桌面应用为主的<strong>Linux发行版</strong>操作系统，其名称来自非洲南部祖鲁语或豪萨语的”ubuntu“一词，意思是“人性”“我的存在是因为大家的存在”，是非洲传统的一种价值观。Ubuntu基于<strong>Debian发行版</strong>和<strong>GNOME桌面环境</strong>，而从11.04版起，Ubuntu发行版放弃了GNOME桌面环境，改为<strong>Unity</strong>。此前人们认为Linux难以安装、难以使用，在Ubuntu出现后这些都成为了历史。Ubuntu也拥有庞大的社区力量，用户可以方便地从社区获得帮助。自Ubuntu 18.04 LTS起，Ubuntu发行版重新开始使用GNOME3桌面环境。</p><h1 id="通用必备配置"><a href="#通用必备配置" class="headerlink" title="通用必备配置"></a>通用必备配置</h1><h2 id="更换软件源"><a href="#更换软件源" class="headerlink" title="更换软件源"></a>更换软件源</h2><h3 id="备份list文件"><a href="#备份list文件" class="headerlink" title="备份list文件"></a>备份list文件</h3><p>失败了也可以回溯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /etc/apt/</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> sources.list sources.list.bak</span><br></pre></td></tr></table></figure><h3 id="更改list文件"><a href="#更改list文件" class="headerlink" title="更改list文件"></a>更改list文件</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vi /etc/apt/sources.list</span><br></pre></td></tr></table></figure><p>替换其中内容，更换为阿里源</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-updates main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-proposed main restricted universe multiverse</span><br><span class="line"></span><br><span class="line">deb http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br><span class="line">deb-src http://mirrors.aliyun.com/ubuntu/ focal-backports main restricted universe multiverse</span><br></pre></td></tr></table></figure><h3 id="更新软件列表"><a href="#更新软件列表" class="headerlink" title="更新软件列表"></a>更新软件列表</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update 或 <span class="built_in">sudo</span> apt-get update<span class="comment"># 更新软件列表</span></span><br><span class="line"><span class="built_in">sudo</span> apt upgrade 或 <span class="built_in">sudo</span> apt upgrade<span class="comment"># 更新软件</span></span><br></pre></td></tr></table></figure><h2 id="更改root密码"><a href="#更改root密码" class="headerlink" title="更改root密码"></a>更改root密码</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> passwd root</span><br></pre></td></tr></table></figure><p>跟随指引操作即可</p><h2 id="构建工具安装"><a href="#构建工具安装" class="headerlink" title="构建工具安装"></a>构建工具安装</h2><p>安装gcc、g++、make等</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install build-essential</span><br></pre></td></tr></table></figure><h2 id="Git安装"><a href="#Git安装" class="headerlink" title="Git安装"></a>Git安装</h2><p>常用于拉取github上的一些工具</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install git</span><br><span class="line">git --version  <span class="comment"># 查看版本号</span></span><br></pre></td></tr></table></figure><h2 id="vim安装"><a href="#vim安装" class="headerlink" title="vim安装"></a>vim安装</h2><p>常用文本编辑器</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install vim</span><br><span class="line">vim -v  <span class="comment"># 查看版本号</span></span><br></pre></td></tr></table></figure><h2 id="安装glibc-doc"><a href="#安装glibc-doc" class="headerlink" title="安装glibc-doc"></a>安装glibc-doc</h2><p>GNU C Library (glibc) 的文档</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install glibc-doc</span><br></pre></td></tr></table></figure><h2 id="安装python2及pip2"><a href="#安装python2及pip2" class="headerlink" title="安装python2及pip2"></a>安装python2及pip2</h2><p>一些python脚本需要在python2环境下运行</p><h3 id="安装python2"><a href="#安装python2" class="headerlink" title="安装python2"></a>安装python2</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install python2</span><br><span class="line">python2 --version <span class="comment"># 查看版本号</span></span><br></pre></td></tr></table></figure><h3 id="安装pip2"><a href="#安装pip2" class="headerlink" title="安装pip2"></a>安装pip2</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">curl https://bootstrap.pypa.io/pip/&lt;你的python2版本，例如2.7&gt;/get-pip.py --output get-pip.py <span class="comment"># 下载安装文件</span></span><br><span class="line"><span class="built_in">sudo</span> python2 get-pip.py <span class="comment"># 安装pip2</span></span><br><span class="line">pip2 --version <span class="comment"># 查看版本号</span></span><br><span class="line"><span class="built_in">rm</span> get-pip.py <span class="comment"># 安装完成后删除get-pip.py</span></span><br></pre></td></tr></table></figure><h2 id="安装pip3"><a href="#安装pip3" class="headerlink" title="安装pip3"></a>安装pip3</h2><p>常用python版本，一般自带了python3</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install python3-pip</span><br><span class="line">pip --version 或 pip3 --version <span class="comment"># 查看版本号</span></span><br></pre></td></tr></table></figure><h2 id="pip换源-清华源"><a href="#pip换源-清华源" class="headerlink" title="pip换源(清华源)"></a>pip换源(清华源)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/.pip 或 <span class="built_in">mkdir</span> -p ~/.config/pip</span><br><span class="line"><span class="built_in">cd</span> ~/.pip 或 <span class="built_in">cd</span> ~/.config/pip</span><br><span class="line">vim pip.conf</span><br></pre></td></tr></table></figure><p>修改pip.conf的内容为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[global]</span><br><span class="line"> </span><br><span class="line">index-url=https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"> </span><br><span class="line"><span class="built_in">timeout</span> = 6000</span><br><span class="line"> </span><br><span class="line">[install]</span><br><span class="line"> </span><br><span class="line">trusted-host=pypi.tuna.tsinghua.edu.cn</span><br><span class="line"> </span><br><span class="line">disable-pip-version-check = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>其他源</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">https://pypi.douban.com/  <span class="comment"># 豆瓣</span></span><br><span class="line">https://pypi.hustunique.com/  <span class="comment">#  华中理工大学</span></span><br><span class="line">https://pypi.sdutlinux.org/  <span class="comment"># 山东理工大学</span></span><br><span class="line">https://pypi.mirrors.ustc.edu.cn/  <span class="comment"># 中国科学技术大学</span></span><br><span class="line">https://mirrors.aliyun.com/pypi/simple/  <span class="comment"># 阿里云</span></span><br><span class="line">https://pypi.tuna.tsinghua.edu.cn/simple/  <span class="comment"># 清华大学</span></span><br></pre></td></tr></table></figure><h1 id="其他软件安装"><a href="#其他软件安装" class="headerlink" title="其他软件安装"></a>其他软件安装</h1><h2 id="安装fd"><a href="#安装fd" class="headerlink" title="安装fd"></a>安装fd</h2><p>​项目地址<a href="https://github.com/cha0ran/fd-zh">cha0ran&#x2F;fd-zh: fd Chinese document</a></p><p>​<code>fd</code> 是一个在你文件系统中查找条目的程序。它是一个简单、快速、友好的 <a href="https://www.gnu.org/software/findutils/"><code>find</code></a> 替代品。</p><p>​在ubuntu19.04及更新版本安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt install fd-find  <span class="comment"># 安装</span></span><br><span class="line"></span><br><span class="line">vim /root/.bashrc</span><br><span class="line"><span class="comment"># 在最后添加一行alias fd=&#x27;fdfind&#x27;</span></span><br><span class="line"><span class="built_in">source</span> /root/.bashrc <span class="comment"># 刷新</span></span><br><span class="line">fd -h <span class="comment"># 检查</span></span><br></pre></td></tr></table></figure><p>​</p><h2 id="安装anaconda"><a href="#安装anaconda" class="headerlink" title="安装anaconda"></a>安装anaconda</h2><p>多环境切换工具</p><h3 id="查找并安装所需版本"><a href="#查找并安装所需版本" class="headerlink" title="查找并安装所需版本"></a>查找并安装所需版本</h3><p>在<a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/?C=M&O=A">清华大学开源软件镜像站 </a>中查找符合自己版本的anaconda</p><p>这里选择<code>https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2024.06-1-Linux-x86_64.sh</code>这个版本，安装其他版本替换相应链接即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget --user-agent=“Mozilla” + https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-2024.06-1-Linux-x86_64.sh  <span class="comment"># 下载</span></span><br><span class="line">bash Anaconda3-2024.06-1-Linux-x86_64.sh  <span class="comment"># 跟随提示安装</span></span><br><span class="line">vim /etc/profile <span class="comment"># 添加环境变量 export PATH=~/anaconda3/bin:$PATH (具体路径以自身安装位置位置)</span></span><br><span class="line">vim ~/.bashrc <span class="comment"># 添加环境变量 export PATH=~/anaconda3/bin:$PATH (具体路径以自身安装位置位置)</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc  <span class="comment"># 更新环境变量</span></span><br><span class="line">conda -V  <span class="comment"># 查看版本号</span></span><br><span class="line"><span class="built_in">rm</span> Anaconda3-2024.06-1-Linux-x86_64.sh  <span class="comment"># 安装完成后清除安装文件</span></span><br></pre></td></tr></table></figure><h3 id="换源"><a href="#换源" class="headerlink" title="换源"></a>换源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清华源</span></span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/</span><br><span class="line">conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --<span class="built_in">set</span> show_channel_urls <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 中科大源</span></span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/main/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/conda-forge/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/msys2/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/bioconda/</span><br><span class="line">conda config --add channels https://mirrors.ustc.edu.cn/anaconda/cloud/menpo/</span><br><span class="line">conda config --<span class="built_in">set</span> show_channel_urls <span class="built_in">yes</span></span><br><span class="line"></span><br><span class="line">conda config --remove-key channels  <span class="comment"># 恢复默认源</span></span><br><span class="line">conda config --show  <span class="comment"># 查看源</span></span><br></pre></td></tr></table></figure><p>conda常用命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">conda update -n base -c defaults conda  <span class="comment"># 如果版本不是最新，可用此命令更新</span></span><br><span class="line">conda create -n &lt;虚拟环境名称&gt; python=&lt;X.X(3.6、3.7等)&gt;  <span class="comment"># 创建虚拟环境</span></span><br><span class="line"><span class="built_in">source</span> activate &lt;虚拟环境名称&gt;  <span class="comment"># 激活虚拟环境</span></span><br><span class="line"><span class="built_in">source</span> deactivate &lt;虚拟环境名称&gt;  <span class="comment"># 退出虚拟环境</span></span><br><span class="line">conda remove -n &lt;虚拟环境名称&gt; --all  <span class="comment"># 删除虚拟环境</span></span><br><span class="line">conda list  <span class="comment"># 查看安装了哪些包</span></span><br><span class="line">conda install &lt;包名&gt;  <span class="comment"># 安装包</span></span><br><span class="line">conda install scrapy==1.3 <span class="comment"># 安装指定版本的包</span></span><br><span class="line">conda install -n &lt;环境名&gt; &lt;包名&gt; <span class="comment"># 在conda指定的某个环境中安装包</span></span><br><span class="line">conda <span class="built_in">env</span> list 或 conda info -e 或   <span class="comment"># 查看当前存在哪些虚拟环境</span></span><br><span class="line">conda update conda  <span class="comment"># 检查更新当前conda</span></span><br><span class="line">conda update anaconda  <span class="comment"># 更新anaconda</span></span><br><span class="line">conda update --all  <span class="comment"># 更新所有库</span></span><br><span class="line">conda update python  <span class="comment"># 更新python</span></span><br></pre></td></tr></table></figure><h2 id="xrdp安装"><a href="#xrdp安装" class="headerlink" title="xrdp安装"></a>xrdp安装</h2><p>​微软的远程桌面协议（RDP） 是一个允许从一台计算机到另一台计算机进行图形化远程桌面连接的协议。RDP 的工作原理是让一台主机运行软件，允许其他几台计算机连接到它。</p><p>​XRDP是 RDP 的一个开源实现，不需要运行任何专有程序。XRDP 不仅试图遵循 RDP，而且还与常规的 RDP 客户端兼容，如Remmina和GNOME Boxes。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line"><span class="built_in">sudo</span> apt install xrdp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 命令行启动</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl set-default multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 图形化界面启动</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl set-default graphical.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机自启</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> xrdp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动与关闭</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start xrdp</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop xrdp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 避免ssl证书无法验证，将xrdp用户加入ssl-cert用户组</span></span><br><span class="line"><span class="built_in">sudo</span> adduser xrdp ssl-cert</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改配置后记得重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><p>​安装远程连接xrdp的客户端（二选一即可）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gnome-boxes</span><br><span class="line"><span class="built_in">sudo</span> apt install remmina</span><br></pre></td></tr></table></figure><h2 id="Nodejs及npm安装"><a href="#Nodejs及npm安装" class="headerlink" title="Nodejs及npm安装"></a>Nodejs及npm安装</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果已经安装过Nodejs和npm，为了避免可能出现的问题，建议先卸载原有的</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get remove --purge npm</span><br><span class="line"><span class="built_in">sudo</span> apt-get remove --purge nodejs</span><br><span class="line"><span class="built_in">sudo</span> apt-get remove --purge nodejs-legacy</span><br><span class="line"><span class="built_in">sudo</span> apt-get autoremove</span><br><span class="line"></span><br><span class="line"><span class="built_in">rm</span> -r /usr/local/bin/npm</span><br><span class="line"><span class="built_in">rm</span> -r /usr/local/lib/node-moudels</span><br><span class="line">find / -name npm</span><br><span class="line"><span class="built_in">rm</span> -r /tmp/npm*</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新源</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get update</span><br><span class="line"></span><br><span class="line"><span class="comment"># Nodejs安装</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install nodejs</span><br><span class="line"><span class="built_in">sudo</span> apt-get install nodejs-legacy</span><br><span class="line"></span><br><span class="line"><span class="comment"># npm安装</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install npm</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新npm包的源</span></span><br><span class="line"><span class="built_in">sudo</span> npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br><span class="line"><span class="built_in">sudo</span> npm config list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全局安装n管理器，管理Nodejs版本</span></span><br><span class="line"><span class="built_in">sudo</span> npm install -g n</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装最新版本Nodejs</span></span><br><span class="line"><span class="built_in">sudo</span> n stable</span><br><span class="line"></span><br><span class="line"><span class="comment"># 版本检测</span></span><br><span class="line"><span class="built_in">sudo</span> node -v</span><br><span class="line"><span class="built_in">sudo</span> npm -v</span><br></pre></td></tr></table></figure><h2 id="更换python版本"><a href="#更换python版本" class="headerlink" title="更换python版本"></a>更换python版本</h2><p>​有时，系统自带的python版本不符合我们的需要，那么就需要我们自己再重新安装和配置python版本</p><p>​以安装python3.10.4为例</p><h3 id="安装python3-10"><a href="#安装python3-10" class="headerlink" title="安装python3.10"></a>安装python3.10</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接通过apt-get安装</span></span><br><span class="line"><span class="built_in">sudo</span> apt-get install python3.10</span><br></pre></td></tr></table></figure><h4 id="从官网下载自行安装"><a href="#从官网下载自行安装" class="headerlink" title="从官网下载自行安装"></a>从官网下载自行安装</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装依赖</span></span><br><span class="line"><span class="built_in">sudo</span> apt update</span><br><span class="line"><span class="built_in">sudo</span> apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev libsqlite3-dev wget libbz2-dev</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从官网下载源文件并解压安装</span></span><br><span class="line"><span class="built_in">cd</span> /home</span><br><span class="line"><span class="built_in">sudo</span> wget https://www.python.org/ftp/python/3.10.4/Python-3.10.4.tgz</span><br><span class="line"><span class="built_in">sudo</span> tar -zvxf Python-3.10.4.tgz</span><br><span class="line"><span class="built_in">cd</span> Python-3.10.4/</span><br><span class="line">./configure --enable-optimizations  </span><br><span class="line">make</span><br><span class="line"><span class="built_in">sudo</span> make install  <span class="comment"># 不成功则改用sudo make altinstall</span></span><br><span class="line">python3.10 --version  <span class="comment"># 验证是否安装成功，出现版本号则安装成功</span></span><br></pre></td></tr></table></figure><h3 id="更新python默认指向"><a href="#更新python默认指向" class="headerlink" title="更新python默认指向"></a>更新python默认指向</h3><h4 id="修改软链接指向"><a href="#修改软链接指向" class="headerlink" title="修改软链接指向"></a>修改软链接指向</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到并删除原有软链接</span></span><br><span class="line"><span class="built_in">which</span> python  <span class="comment"># which命令找到的路径就是原有软链接路径，没有找到说明不存在，可忽略下一条命令</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> /usr/bin/python</span><br><span class="line"></span><br><span class="line"><span class="comment"># 找到python3.10的安装路径</span></span><br><span class="line"><span class="built_in">which</span> python3.10 <span class="comment"># 我的在/usr/local/bin/python3.10路径</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新建立软链接</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /usr/local/bin/python3.10 /usr/bin/python</span><br></pre></td></tr></table></figure><p>现在使用<code>python</code>命令显示的就是python3.10.4了</p><h4 id="设置python的环境变量"><a href="#设置python的环境变量" class="headerlink" title="设置python的环境变量"></a>设置python的环境变量</h4><h5 id="编辑-bashrc文件"><a href="#编辑-bashrc文件" class="headerlink" title="编辑.bashrc文件"></a>编辑.bashrc文件</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim  ~/.bashrc </span><br></pre></td></tr></table></figure><p>找到</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -alF&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">&#x27;ls -A&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> l=<span class="string">&#x27;ls -CF&#x27;</span></span><br></pre></td></tr></table></figure><p>修改为</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ll=<span class="string">&#x27;ls -alF&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">&#x27;ls -A&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> l=<span class="string">&#x27;ls -CF&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> python=<span class="string">&#x27;/usr/local/bin/python3.10&#x27;</span></span><br></pre></td></tr></table></figure><p>其中新添加内容的引号中部分换成自己的python安装路径</p><p>最后按下<code>esc</code>，然后依次输入<code>:wq</code>回车即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新环境变量</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure><h3 id="更新pip默认指向"><a href="#更新pip默认指向" class="headerlink" title="更新pip默认指向"></a>更新pip默认指向</h3><h4 id="修改软链接指向-1"><a href="#修改软链接指向-1" class="headerlink" title="修改软链接指向"></a>修改软链接指向</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到并删除原有软链接</span></span><br><span class="line"><span class="built_in">which</span> pip</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">rm</span> /usr/local/bin/pip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新建立软链接</span></span><br><span class="line"><span class="comment"># pip路径与python路径一致，上文中python路径在/usr/local/bin/python3.10，那么pip路径在/usr/local/bin/pip3.10</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">ln</span> -s /usr/local/bin/pip3.10 /usr/local/bin/pip</span><br></pre></td></tr></table></figure><p>现在使用pip命令指向的就是python3.10的pip了</p><h1 id="PWN环境配置"><a href="#PWN环境配置" class="headerlink" title="PWN环境配置"></a>PWN环境配置</h1><h2 id="gdb-multiarch"><a href="#gdb-multiarch" class="headerlink" title="gdb-multiarch"></a>gdb-multiarch</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install gdb-multiarch</span><br><span class="line">gdb-multiarch -v  <span class="comment"># 查看版本号</span></span><br></pre></td></tr></table></figure><h2 id="pwntools"><a href="#pwntools" class="headerlink" title="pwntools"></a>pwntools</h2><p>主要的攻击武器，本质是一个python库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pwntools</span><br></pre></td></tr></table></figure><h2 id="LibcSearcher"><a href="#LibcSearcher" class="headerlink" title="LibcSearcher"></a>LibcSearcher</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/lieanu/LibcSearcher.git</span><br><span class="line">python ./LibcSearcher/setup.py develop</span><br></pre></td></tr></table></figure><h2 id="pwndbg"><a href="#pwndbg" class="headerlink" title="pwndbg"></a>pwndbg</h2><p>动态调试</p><p>如果还未安装gdb，请先安装gdb</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gdb</span><br></pre></td></tr></table></figure><p>随后执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/pwndbg/pwndbg</span><br><span class="line">./pwndbg/setup.sh</span><br></pre></td></tr></table></figure><h3 id="checksec"><a href="#checksec" class="headerlink" title="checksec"></a>checksec</h3><p>检查二进制文件的受保护状态</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/slimm609/checksec.sh.git</span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">cp</span> ./checksec.sh/checksec /usr/local/bin/checksec  <span class="comment"># 添加为shell命令</span></span><br><span class="line"><span class="built_in">rm</span> checksec.sh  <span class="comment"># 清除多余文件</span></span><br></pre></td></tr></table></figure><h3 id="ROPgadget"><a href="#ROPgadget" class="headerlink" title="ROPgadget"></a>ROPgadget</h3><h3 id="One-gadget"><a href="#One-gadget" class="headerlink" title="One_gadget"></a>One_gadget</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install ruby</span><br><span class="line"><span class="built_in">sudo</span> apt install gem</span><br><span class="line">gem install one_gadget</span><br></pre></td></tr></table></figure><h3 id="main-arena-offset"><a href="#main-arena-offset" class="headerlink" title="main_arena_offset"></a>main_arena_offset</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/bash-c/main_arena_offset</span><br></pre></td></tr></table></figure><h3 id="seccomp-tools"><a href="#seccomp-tools" class="headerlink" title="seccomp-tools"></a>seccomp-tools</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gcc ruby-dev</span><br><span class="line"><span class="built_in">sudo</span> gem install seccomp-tools</span><br></pre></td></tr></table></figure><h1 id="可能出现的问题及解决方案"><a href="#可能出现的问题及解决方案" class="headerlink" title="可能出现的问题及解决方案"></a>可能出现的问题及解决方案</h1><h2 id="使用apt更新或安装软件时，提示“由于没有公钥，无法验证下列签名”"><a href="#使用apt更新或安装软件时，提示“由于没有公钥，无法验证下列签名”" class="headerlink" title="使用apt更新或安装软件时，提示“由于没有公钥，无法验证下列签名”"></a>使用apt更新或安装软件时，提示“由于没有公钥，无法验证下列签名”</h2><p>​例如这样的情况</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="params">W:</span> GPG 错误：https:<span class="symbol">//download.docker.com/linux/ubuntu</span> focal <span class="params">InRelease:</span> 由于没有公钥，无法验证下列签名： NO_PUBKEY <span class="number">7</span>EA0A9C3F273FCD8</span><br><span class="line"><span class="params">E:</span> 仓库 “https:<span class="symbol">//download.docker.com/linux/ubuntu</span> focal InRelease” 没有数字签名。</span><br></pre></td></tr></table></figure><p>​执行以下命令即可</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 7EA0A9C3F273FCD8</span><br></pre></td></tr></table></figure><p>​注意最后的<code>7EA0A9C3F273FCD8</code>需要根据你的报错提示中给出的<code>NO_PUBKEY</code>进行替换</p>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> linux </tag>
            
            <tag> 安装 </tag>
            
            <tag> ubuntu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QQBot用户使用手册V1.0</title>
      <link href="/post/3dd951cb.html"/>
      <url>/post/3dd951cb.html</url>
      
        <content type="html"><![CDATA[<h2 id="基础说明"><a href="#基础说明" class="headerlink" title="基础说明"></a>基础说明</h2><p>​- By BR</p><p>​本项目基于NapCat+python3.10，是在<a href="https://github.com/MoXueYao/QQBot">QQBot</a>基础上的二次开发，存在个人魔改部分，可在Window及Linux上部署</p><p>​@信息，命令信息，文本信息等，每个信息之间是以一个空格分隔的</p><p>​普通用户权限为1，管理员权限为2，超级管理员权限为3</p><p>​作用范围：friend(仅私聊)，group(仅群聊)，public(私聊与群聊均可)</p><h2 id="命令目录"><a href="#命令目录" class="headerlink" title="命令目录"></a>命令目录</h2><h3 id="help"><a href="#help" class="headerlink" title="&#x2F;help"></a>&#x2F;help</h3><ul><li><p>来源：系统命令</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/help</code></p></li><li><p>作用：查看当前环境下的命令目录</p></li></ul><h3 id="reload"><a href="#reload" class="headerlink" title="&#x2F;reload"></a>&#x2F;reload</h3><ul><li><p>来源：系统命令</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：3</p></li><li><p>用法：<code>/reload</code></p></li><li><p>作用：重载所有插件</p></li></ul><h3 id="点赞"><a href="#点赞" class="headerlink" title="&#x2F;点赞"></a>&#x2F;点赞</h3><ul><li><p>来源：QQ_like插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/点赞 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="keyword">set</span> <span class="symbol">&lt;status&gt;</span>          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    <span class="built_in">add</span> <span class="symbol">&lt;QQ_id&gt;</span>           添加待点赞QQ号</span><br><span class="line">    del <span class="symbol">&lt;QQ_id&gt;</span>           删除待点赞QQ号</span><br></pre></td></tr></table></figure></li><li><p>作用：明天晚上12点整为列表用户的名片点赞</p></li></ul><h3 id="比赛监听"><a href="#比赛监听" class="headerlink" title="&#x2F;比赛监听"></a>&#x2F;比赛监听</h3><ul><li><p>来源：match_monitoring插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/比赛监听 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="keyword">set</span> <span class="symbol">&lt;status&gt;</span>          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    <span class="built_in">add</span> <span class="symbol">&lt;QQ_group_id&gt;</span>     添加通报群聊QQ号</span><br><span class="line">    del <span class="symbol">&lt;QQ_group_id&gt;</span>     删除通报群聊QQ号</span><br></pre></td></tr></table></figure></li><li><p>作用：监听GZCTF平台比赛实况，包括一血二血三血，题目上新，新增公告等的提示</p></li></ul><h3 id="查询比赛"><a href="#查询比赛" class="headerlink" title="&#x2F;查询比赛"></a>&#x2F;查询比赛</h3><ul><li><p>来源：get_match插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/查询比赛 [arguments]</code></p></li><li><p>参数：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">arguments</span>表示指定页码，默认为<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>作用：查询近期国内网安类比赛，消息来源：<a href="https://github.com/ProbiusOfficial/Hello-CTFtime">ProbiusOfficial&#x2F;Hello-CTFtime: 【Hello CTF】国内外赛事聚合 (github.com)</a></p></li></ul><h3 id="查询国外比赛"><a href="#查询国外比赛" class="headerlink" title="&#x2F;查询国外比赛"></a>&#x2F;查询国外比赛</h3><ul><li><p>来源：get_match插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/查询国外比赛 [arguments]</code></p></li><li><p>参数：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">arguments</span>表示指定页码，默认为<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>作用：查询近期国内网安类比赛，消息来源：<a href="https://github.com/ProbiusOfficial/Hello-CTFtime">ProbiusOfficial&#x2F;Hello-CTFtime: 【Hello CTF】国内外赛事聚合 (github.com)</a></p></li></ul><h3 id="响应群聊"><a href="#响应群聊" class="headerlink" title="&#x2F;响应群聊"></a>&#x2F;响应群聊</h3><ul><li><p>来源：just_group插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/响应群聊 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="keyword">set</span> <span class="symbol">&lt;status&gt;</span>          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    <span class="built_in">add</span> <span class="symbol">&lt;QQ_group_id&gt;</span>     添加允许响应群聊</span><br><span class="line">    del <span class="symbol">&lt;QQ_group_id&gt;</span>     删除允许响应群聊</span><br></pre></td></tr></table></figure></li><li><p>作用：限制Bot能够响应的群聊，在允许响应群聊外的群聊，Bot将会无视其信息</p></li></ul><h3 id="ai"><a href="#ai" class="headerlink" title="&#x2F;ai"></a>&#x2F;ai</h3><ul><li><p>来源：tongyi插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/ai [subcommand]</code></p></li><li><p>参数：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">subcommand:</span></span><br><span class="line">    <span class="keyword">cls</span>          清除发出信息的用户与ai的聊天记录</span><br></pre></td></tr></table></figure></li><li><p>作用：用户层对于ai的管理</p></li></ul><h3 id="ai管理"><a href="#ai管理" class="headerlink" title="&#x2F;ai管理"></a>&#x2F;ai管理</h3><ul><li><p>来源：tongyi插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/ai管理 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="keyword">set</span> <span class="symbol">&lt;status&gt;</span>          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    <span class="built_in">add</span> <span class="symbol">&lt;QQ_id&gt;</span>       添加黑名单用户</span><br><span class="line">    del <span class="symbol">&lt;QQ_id&gt;</span>       删除黑名单用户</span><br><span class="line">    cls [QQ_id]  清除指定用户与ai的聊天记录(保留预设),未传入QQ_id参数则全清除</span><br><span class="line">    ccls [QQ_id]  清除指定用户与ai的聊天记录(不保留预设),未传入QQ_id参数则全清除</span><br><span class="line">    preset [<span class="keyword">set</span> <span class="symbol">&lt;preset_id&gt;</span>]设置当前预设，若未传入<span class="keyword">set</span>命令，则展示当前使用预设及可选预设</span><br><span class="line">    show将当前存在会话的对话信息保存并以md文档发送给发出命令者</span><br></pre></td></tr></table></figure></li><li><p>作用：管理层对于ai的管理</p></li></ul><h3 id="关于"><a href="#关于" class="headerlink" title="&#x2F;关于"></a>&#x2F;关于</h3><ul><li><p>来源：about插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/关于</code></p></li><li><p>作用：展示Bot基本信息</p></li></ul><h3 id="夸夸"><a href="#夸夸" class="headerlink" title="&#x2F;夸夸"></a>&#x2F;夸夸</h3><ul><li><p>来源：praise插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/夸夸 [argumnets]</code></p></li><li><p>参数：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">arguments</span>表示对谁使用夸夸，如果不存在该参数，默认对使用命令者使用夸夸</span><br></pre></td></tr></table></figure></li><li><p>作用：从词库中随机抽取夸奖文案并回复</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 我爱发明 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> QQBot </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Ollama+CodeGeeX+VScode的本地LLM部署方案</title>
      <link href="/post/31fded05.html"/>
      <url>/post/31fded05.html</url>
      
        <content type="html"><![CDATA[<h1 id="Ollama-CodeGeeX-VScode的本地LLM部署方案"><a href="#Ollama-CodeGeeX-VScode的本地LLM部署方案" class="headerlink" title="Ollama+CodeGeeX+VScode的本地LLM部署方案"></a>Ollama+CodeGeeX+VScode的本地LLM部署方案</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​Windows下实现全离线状态部署LLM用以辅助代码编写</p><hr><h2 id="环境需求"><a href="#环境需求" class="headerlink" title="环境需求"></a>环境需求</h2><ul><li><p>Window10及以上</p></li><li><p>Ollama(版本&gt;0.2)</p></li><li><p>VScode</p></li><li><p>CodeGeeX插件</p></li></ul><hr><h2 id="战前准备"><a href="#战前准备" class="headerlink" title="战前准备"></a>战前准备</h2><p>在进行离线部署前，你需要首先下载好需要的工具及软件</p><h3 id="Ollama下载及安装"><a href="#Ollama下载及安装" class="headerlink" title="Ollama下载及安装"></a>Ollama下载及安装</h3><p>​进入<a href="https://ollama.com/">官方网站</a>下载安装包跟随默认安装即可，给出下载直链<a href="https://ollama.com/download/OllamaSetup.exe">https://ollama.com/download/OllamaSetup.exe</a></p><p>​双击exe文件跟随默认设置安装即可</p><p>​先保留安装包不要删除</p><h3 id="大语言模型下载"><a href="#大语言模型下载" class="headerlink" title="大语言模型下载"></a>大语言模型下载</h3><p>​LLM的选择有很多，根据自身硬件实力选择即可，参考我的轻薄本，使用的是<code>codegeex4:9b-all-q2_K</code>这么一款模型</p><p>​在安装完成Ollama之后，在命令行中执行<code>ollama run codegeex4:9b-all-q2_K</code>即可开始下载，默认下载模型的位置在<code>C:\Users\你的用户名\.ollama\models</code>目录下，当然，你可以通过<code>OLLAMA_MODELS</code>环境变量来修改模型保存位置</p><p>​如果你不想使用这一款大模型，可以在<a href="https://ollama.com/">Ollama</a>官网中自行挑选其他模型</p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204213121200.png" alt="image-20241204213121200"></p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204213157571.png" alt="image-20241204213157571"></p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204213331170.png" alt="image-20241204213331170"></p><p>​将下载好的模型复制(或剪切)出来备用</p><h3 id="VScode下载"><a href="#VScode下载" class="headerlink" title="VScode下载"></a>VScode下载</h3><p>​下载链接<a href="https://code.visualstudio.com/docs/?dv=win64user">https://code.visualstudio.com/docs/?dv=win64user</a></p><h3 id="CodeGeeX插件下载"><a href="#CodeGeeX插件下载" class="headerlink" title="CodeGeeX插件下载"></a>CodeGeeX插件下载</h3><p>​在在线状态下，我们可以直接在扩展商店中搜索<code>CodeGeeX</code>即可一键安装</p><p>​对于离线状态，我们就只能从外部下载好插件后进行进行离线安装</p><p>​通过<a href="https://marketplace.visualstudio.com/items?itemName=aminer.codegeex%E8%BF%9B%E5%85%A5%E6%8B%93%E5%B1%95%E5%95%86%E5%BA%97%E4%B8%8B%E8%BD%BD%E6%8B%93%E5%B1%95%E5%8C%85">https://marketplace.visualstudio.com/items?itemName=aminer.codegeex进入拓展商店下载拓展包</a></p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204211437283.png" alt="image-20241204211437283"></p><hr><h2 id="离线部署"><a href="#离线部署" class="headerlink" title="离线部署"></a>离线部署</h2><p>​接下来的所有操作均可在断网环境下运行</p><p>​首先是安装好Ollama</p><p>​接着将之前下载好的大模型文件放入<code>C:\Users\你的用户名\.ollama\model</code>目录中，使用<code>ollama list</code>命令检验是否读取到了模型文件</p><p>​同时设置好环境变量<code>setx OLLAMA &quot;*&quot; /M</code>（需要管理员权限）</p><p>​然后安装VScode</p><p>​再执行<code>code --install-extension &lt;CodeGeeX插件的路径&gt;</code>命令来安装插件</p><p>​再接下来进行配置</p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204222742783.png" alt="image-20241204222742783"></p><p>​</p><p><img src="/../post_img/014c590230fe9bb6e7c008fa4b21a1bd/image-20241204222946147.png" alt="image-20241204222946147"></p><p>​如图，键入<code>http://127.0.0.1:11434/v1/chat/completions</code>和<code>codegeex4:9b-all-q2_K</code></p><p>​最后点击连接，出现连接成功标识即可</p><p>​至此已完成配置过程</p><h2 id="懒人部署包"><a href="#懒人部署包" class="headerlink" title="懒人部署包"></a>懒人部署包</h2><p>​配合懒人包一起食用更佳~</p><p>​该脚本需要以管理员权限执行</p><p>​此前曾使用过ollama的不建议直接运行懒人脚本，这可能会使你原先下载的模型丢失</p><p>​在懒人包目录下打开命令行，按顺序依次执行命令即可</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">:: 安装 ollama</span><br><span class="line">OllamaSetup.exe</span><br><span class="line"></span><br><span class="line">:: 安装 VScode</span><br><span class="line">VSCodeUserSetup-x64-1.95.3.exe</span><br><span class="line"></span><br><span class="line">:: 安装 CodeGeeX 插件</span><br><span class="line">code --install-extension aminer.codegeex-2.19.0.vsix</span><br><span class="line"></span><br><span class="line">:: 移动模型</span><br><span class="line">xcopy &quot;models\*&quot; &quot;%HOMEPATH%\.ollama\models&quot; /E /I</span><br><span class="line"></span><br><span class="line">:: 设置环境变量</span><br><span class="line">setx OLLAMA_ORIGINS &quot;*&quot; /M</span><br><span class="line">setx OLLAMA_MODELS &quot;C:%HOMEPATH%\.ollama\models&quot; /M</span><br></pre></td></tr></table></figure><p>​最后在手动在VScode中按照上述离线部署的过程配置一下即可</p><p>​懒人包下载地址：<a href="https://www.alipan.com/s/cSGkaLH4Jyc">https://www.alipan.com/s/cSGkaLH4Jyc</a></p><hr><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://zhipu-ai.feishu.cn/wiki/X6qEwPfHXi0hSOkJUSKc6DkDnGN">离线模式教程：Ollama篇 - 飞书云文档</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> Ollama </tag>
            
            <tag> CodeGeekX </tag>
            
            <tag> VScode </tag>
            
            <tag> LLM </tag>
            
            <tag> 离线 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>电子扫盲之Linux</title>
      <link href="/post/5d53a887.html"/>
      <url>/post/5d53a887.html</url>
      
        <content type="html"><![CDATA[<h1 id="电子扫盲系列之Linux"><a href="#电子扫盲系列之Linux" class="headerlink" title="电子扫盲系列之Linux"></a>电子扫盲系列之Linux</h1><h2 id="黑客文化、自由软件运动与开放源码运动"><a href="#黑客文化、自由软件运动与开放源码运动" class="headerlink" title="黑客文化、自由软件运动与开放源码运动"></a>黑客文化、自由软件运动与开放源码运动</h2><p>​Hacker一词最早起源于MIT的计算机文化，有那么一些热衷于研究电脑勇于探索新技术的程序员，会把一些关于编程的新奇想法和骚操作被称为Hack，他们不称呼自己为Programmer(程序员)，而是自称Hacker，因此Hacker原指热心于计算机技术，水平高超的电脑专家，尤其是程序设计人员。而哪些那些专门利用电脑搞破坏或恶作剧的家伙，正确称呼应该是Cracker(骇客)</p><p>​黑客文化的核心在于解决问题，打破常规，质疑一切，自由分享</p><p>​                            </p><p>​自由软件的英文为“free software”。“free”在英文中有“自由”(freedom)、“免费”(free of charge)的双重含义，因此要学会分辨“自由软件”（free software）和“免费软件”（freeware）。自由软件运动的创始人——<a href="https://baike.baidu.com/item/%E7%90%86%E6%9F%A5%E5%BE%B7%C2%B7%E6%96%AF%E6%89%98%E6%9B%BC/486922?fromModule=lemma_inlink">理查德·斯托曼</a>提供了以下的定义：“free software” is a matter of liberty, not price. To understand the concept, you should think of “free” as in “free speech,” not as in “free beer”，中文译文：自由软件的重点在于自由，而非价格。要了解其所代表的概念：应该将“free”想成是“free speech”（言论自由）中的“free”（自由），而不是“free beer”（免费啤酒）中的“free”（免费）。更精确的说，自由软件代表电脑使用者拥有选择和任何人合作之自由、拥有掌控他们所用的软件之自由。在GNU宣言（GNU Manifesto）中包含了斯托曼在一开始对自由软件使用定义的混淆。</p><p>​Linus Torvalds创建Linux以来，开源思想在软件界可谓盛极一时。简单的说”开源软件”就是源代码开放的软件。只要符合开源软件定义的软件就能被称为开放源代码软件。自由软件是一个比开源软件更严格的概念，因此所有自由软件都是开放源代码的，但不是所有的开源软件都能被称为“自由”。开放源代码作用是尽可能的使软件最优化；自由软件则将自由作为道德标准。</p><p>​由于开源思想源于计算机软件界，所以发展至今，计算机类开源产品的种类、数量都是很多的，使用也比较广泛。如在操作系统领域，Linux在服务器市场就占据了相当大的份额，并持续扩张，IBM公司销售的薄片式服务器中大约有75%就运行着Linux操作系统；Web方面，全球有百分之五十以上的Web服务器在使用开源的Apache系统；数据库，有针对互联网应用的轻量级数据库MySQL，也有针对大型应用的PostgreSQL。</p><p>​开源被很多黑客认为是计算机科学的一种文化复兴，是计算机科学真正成为科学并能够与其他科学一起同步发展的手段。开源发展到今天，不仅仅有数以万计的黑客在积极地参与，像IBM、HP、CA、SUN等一些软硬件厂商也在加大在开源方面的投入并积极向开源社区贡献优秀开源软件，因为开源催化了软件业快速向服务也蜕变的速度并为IBM这样的硬件和集成服务提供商提供了新的商机。</p><h2 id="UNIX哲学"><a href="#UNIX哲学" class="headerlink" title="UNIX哲学"></a>UNIX哲学</h2><p>做一件事，并把它做好</p><p>Do One Thing，And Do It Well</p><h3 id="McUnix"><a href="#McUnix" class="headerlink" title="McUnix"></a>McUnix</h3><p>规则一：你永远不会知道你的程序会在什么地方耗费时间。程序的瓶颈常常出现在意想不到的地方，因此在你确信找到瓶颈后再动手优化代码吧。</p><p>规则二：测试代码。只有在你详细测试了代码，并且发现一部分代码耗费了绝大部分的运行时间时再对程序作速度优化。</p><p>规则三：功能全面的算法（fancy algorithm）在处理小规模问题时效率很低，这是因为算法时间效率中的常量很大，而问题往往规模很小。除非你知道你遇到的常常是复杂的情况，否则就让代码丑陋但是简单而高效吧。（即使问题规模确实很大，也首先尝试第二条规则。）</p><p>规则四：功能全面的算法比简单的算法更容易产生Bug，更难实现。尽量使用简单的算法和数据结构。</p><p>规则五：数据决定一切。如果选择的数据结构能很好的管理数据，算法部分往往不言自明。记住，数据结构，而非算法，才是编程的关键。</p><p>规则六：没有第六条规则。</p><ul><li></li></ul><h2 id="各发行版"><a href="#各发行版" class="headerlink" title="各发行版"></a>各发行版</h2><h3 id="按照包管理器划分"><a href="#按照包管理器划分" class="headerlink" title="按照包管理器划分"></a>按照包管理器划分</h3><p>主要可分为:</p><ol><li><p>Debian系 (Debian, Ubuntu, deepin, elementary, KaliLinux等）</p></li><li><p>RedHat系 (Fedora, RHEL, CentOS等)</p></li><li><p>RedHat外的rpm系 (SUSE和OpenSUSE)</p></li><li><p>Arch系 (ArchLinux, ManjaroLinux等)</p></li></ol><h3 id="概览"><a href="#概览" class="headerlink" title="概览"></a>概览<img src="/../post_img/d4b3aee9190f714612c26802a43356c3/d9394693ada7a5d1af82dc88e9f76cd2.png" alt="d9394693ada7a5d1af82dc88e9f76cd2"></h3><p><img src="/../post_img/d4b3aee9190f714612c26802a43356c3/image-20241125132616983.png" alt="image-20241125132616983"></p><p><img src="/../post_img/d4b3aee9190f714612c26802a43356c3/image-20241125133308773.png" alt="image-20241125133308773"></p><ul><li></li></ul><h3 id="详尽版"><a href="#详尽版" class="headerlink" title="详尽版"></a>详尽版<img src="/../post_img/d4b3aee9190f714612c26802a43356c3/detail.png" alt="detail"></h3><ul><li></li></ul><h3 id="主流常用发行版"><a href="#主流常用发行版" class="headerlink" title="主流常用发行版"></a>主流常用发行版</h3><h4 id="Debian"><a href="#Debian" class="headerlink" title="Debian"></a>Debian</h4><h5 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h5><ul><li>以稳定性、安全性和自由软件哲学而闻名</li><li>使用apt作为包管理器，使用.deb格式的软件包</li></ul><h4 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu"></a>Ubuntu</h4><h5 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h5><ul><li>以用户友好和易于安装而闻名</li><li>理想的操作系统桌面系统</li><li>对于Ubuntu的硬件支持最广泛</li><li>使用apt作为包管理器，使用.deb格式的软件包</li></ul><h4 id="Kali-Linux"><a href="#Kali-Linux" class="headerlink" title="Kali Linux"></a>Kali Linux</h4><h5 id="特点-2"><a href="#特点-2" class="headerlink" title="特点"></a>特点</h5><ul><li>面向专业的渗透测试和安全审计，内置许多安全测试工具</li><li>每季度更新，有基于ARM架构的镜像，可用于树莓派和ARM系统</li></ul><h4 id="OpenSUSE"><a href="#OpenSUSE" class="headerlink" title="OpenSUSE"></a>OpenSUSE</h4><h5 id="特点-3"><a href="#特点-3" class="headerlink" title="特点"></a>特点</h5><ul><li>被评价为：最华丽的Linux发行版</li><li>面向企业级的Linux发行版</li><li>使用Libzypp作为包管理器</li></ul><h4 id="CentOS-RHEL"><a href="#CentOS-RHEL" class="headerlink" title="CentOS&#x2F;RHEL"></a>CentOS&#x2F;RHEL</h4><h5 id="特点-4"><a href="#特点-4" class="headerlink" title="特点"></a>特点</h5><ul><li>适合于服务器环境，在企业服务器和生产环境中非常流行</li><li>使用yum或dnf作为包管理器，使用.rpm格式软件包</li></ul><h4 id="Arch-Linux"><a href="#Arch-Linux" class="headerlink" title="Arch Linux"></a>Arch Linux</h4><h5 id="特点-5"><a href="#特点-5" class="headerlink" title="特点"></a>特点</h5><ul><li>极简设计、允许用户高度自定义</li><li>面向有经验用户设计</li><li>更加激进，更新频繁</li><li>使用Pacman包管理器</li></ul><h2 id="windows下使用Linux的两种方案"><a href="#windows下使用Linux的两种方案" class="headerlink" title="windows下使用Linux的两种方案"></a>windows下使用Linux的两种方案</h2><h3 id="VMware"><a href="#VMware" class="headerlink" title="VMware"></a>VMware</h3><p>​<a href="https://blog.csdn.net/weixin_74195551/article/details/127288338">安装虚拟机（VMware）保姆级教程（附安装包）</a></p><h3 id="wsl"><a href="#wsl" class="headerlink" title="wsl"></a>wsl</h3><p>​<a href="https://blog.csdn.net/weixin_45027467/article/details/106862520">WSL使用史上最详细教程</a></p><h2 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h2><h3 id="文件与目录操作"><a href="#文件与目录操作" class="headerlink" title="文件与目录操作"></a>文件与目录操作</h3><ul><li><code>ls</code>：列出目录内容。</li><li><code>cd</code>：改变当前工作目录。</li><li><code>pwd</code>：显示当前工作目录的路径。</li><li><code>mkdir</code>：创建新目录。</li><li><code>rmdir</code>：删除空目录。</li><li><code>rm</code>：删除文件或目录（使用 <code>-r</code> 选项可以递归删除非空目录）。</li><li><code>cp</code>：复制文件或目录。</li><li><code>mv</code>：移动或重命名文件或目录。</li><li><code>touch</code>：更新文件访问时间和修改时间，或创建新的空文件。</li></ul><h3 id="文件查看与编辑"><a href="#文件查看与编辑" class="headerlink" title="文件查看与编辑"></a>文件查看与编辑</h3><ul><li><code>cat</code>：显示文件内容，也可用于合并文件。</li><li><code>less</code> 或 <code>more</code>：分页显示文件内容。</li><li><code>head</code>：显示文件头部内容，默认前10行。</li><li><code>tail</code>：显示文件尾部内容，默认后10行，可用 <code>-f</code> 实时查看文件更新。</li><li><code>nano</code> 或 <code>vim</code>：文本编辑器。</li></ul><h3 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h3><ul><li><code>uname</code>：显示系统信息，如内核版本。</li><li><code>top</code> 或 <code>htop</code>：显示活动进程和系统资源使用情况。</li><li><code>df</code>：显示磁盘空间使用情况。</li><li><code>du</code>：显示目录或文件的磁盘使用情况。</li><li><code>free</code>：显示内存使用情况。</li></ul><h3 id="用户与权限"><a href="#用户与权限" class="headerlink" title="用户与权限"></a>用户与权限</h3><ul><li><code>whoami</code>：显示当前用户名。</li><li><code>su</code>：切换用户，通常用于切换到 root 用户。</li><li><code>sudo</code>：以超级用户或其他用户权限执行命令。</li><li><code>chmod</code>：更改文件或目录的权限。</li><li><code>chown</code>：更改文件或目录的所有者。</li></ul><h3 id="网络相关"><a href="#网络相关" class="headerlink" title="网络相关"></a>网络相关</h3><ul><li><code>ifconfig</code> 或 <code>ip addr</code>：显示或配置网络接口。</li><li><code>ping</code>：测试主机间的连通性。</li><li><code>netstat</code>：显示网络状态，包括连接、路由表、接口统计等。</li><li><code>ssh</code>：安全地远程登录到另一台计算机。</li><li><code>scp</code>：安全地在两台计算机之间复制文件。</li></ul><h3 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h3><ul><li><code>ps</code>：显示当前进程的状态。</li><li><code>kill</code>：发送信号给进程，通常是终止进程。</li><li><code>pkill</code>：通过名称向进程发送信号。</li></ul><h3 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h3><ul><li><code>find</code>：在指定目录下搜索文件。</li><li><code>grep</code>：搜索文件中匹配特定模式的行。</li></ul><h3 id="压缩与解压"><a href="#压缩与解压" class="headerlink" title="压缩与解压"></a>压缩与解压</h3><ul><li><code>tar</code>：用于打包和解包文件，支持多种压缩格式。</li><li><code>gzip</code> 和 <code>gunzip</code>：压缩和解压缩 <code>.gz</code> 文件。</li><li><code>zip</code> 和 <code>unzip</code>：压缩和解压缩 <code>.zip</code> 文件。</li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Frp+Proxifier反向代理实现内网穿透</title>
      <link href="/post/9662863a.html"/>
      <url>/post/9662863a.html</url>
      
        <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​近期被某个抽象比赛的虚拟机卡红温了，而又因为线下赛主赛场在外地，我们只能使用这个赛方提供的虚拟机远程接入比赛内网，体验很不好，于是想着搞内网穿透了。</p><hr><h2 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h2><p>​已知有三台机器ABC，A为本机，B为赛方提供的可连接公网并可访问内网的跳板机，C则为内网服务器。</p><p>​正常来说，我们通过本机是无法直接访问到C这个内网服务器的，这时候就需要用到内网穿透，让B这个跳板机作为中间商进行流量的转发。</p><p>​在赛时完成整套搭建后，实际上有4台主机参与了整个交互：</p><ul><li><p>非内网主机A</p></li><li><p>内网跳板机B</p></li><li><p>内网服务器C</p></li><li><p>公网服务器D</p><p>A本地安装<code>Proxifier</code>通过D进行代理</p><p>D上安装Frp服务端双向接受来自A和B的信息</p><p>B上安装Frp客户端，作为被代理的一方，与C直接交互</p><p>最终实现A可以直接访问C</p></li></ul><hr><h2 id="Frp反向代理-Proxifier实现内网穿透"><a href="#Frp反向代理-Proxifier实现内网穿透" class="headerlink" title="Frp反向代理+Proxifier实现内网穿透"></a>Frp反向代理+Proxifier实现内网穿透</h2><p>​最终我选择的解决方案使用<code>Frp</code>进行反向代理，并使用<code>Proxifier</code>实现本地客户端的全局代理。</p><p>​需要明确的是，服务端指的是你所连接的公网服务器，客户端是实际需要被内网穿透的跳板机。</p><p>​简单来说公网服务器就是服务端，能够访问内部局域网服务的就是客户端，客户端可以是你的本机，也可以是一个跳板机。</p><p>​你首先需要：</p><ul><li>一台有着公网IP的服务器；</li><li><a href="https://github.com/fatedier/frp/releases/tag/v0.36.2">Frp (V36.2)</a>客户端与服务端；</li><li><a href="https://www.proxifier.com/download/ProxifierSetup.exe">Proxifier</a>客户端 (亲测可用的密钥：<code>5EZ8G-C3WL5-B56YG-SCXM9-6QZAP</code>)。</li></ul><hr><h3 id="Frp搭建"><a href="#Frp搭建" class="headerlink" title="Frp搭建"></a>Frp搭建</h3><p>​首先你需要选择对应系统版本的Frp：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">uname</span> -m<span class="comment"># 查看linux系统架构</span></span><br></pre></td></tr></table></figure><h4 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h4><p>​以下以<code>unbuntu22.04</code>作为服务端为例。</p><h5 id="基础配置"><a href="#基础配置" class="headerlink" title="基础配置"></a>基础配置</h5><p>​首先将下载的Frp文件上传至你的公网服务器中。</p><p>​依次执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> /opt/frp  <span class="comment"># 存放软件路径</span></span><br><span class="line"><span class="built_in">sudo</span> <span class="built_in">mv</span> frp_0.36.2_linux_amd64.tar.gz /opt/frp<span class="comment"># 移动Frp文件</span></span><br><span class="line"><span class="built_in">cd</span> /opt/frp<span class="comment"># 进入该目录</span></span><br><span class="line"><span class="built_in">sudo</span> tar -zxvf frp_0.36.2_linux_amd64.tar.gz<span class="comment"># 解压</span></span><br><span class="line"><span class="built_in">cd</span> frp_0.36.2_linux_amd64<span class="comment"># 进入解压后文件目录</span></span><br><span class="line"><span class="built_in">rm</span> -r frpc*<span class="comment"># 清除frpc开头文件(这是客户端组件，服务端不需要)</span></span><br></pre></td></tr></table></figure><p>​成功完成所需文件准备。</p><p>​然后需要进行配置文件设置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim frps.ini</span><br></pre></td></tr></table></figure><p>​将文件内容修改为这样的基础配置，可根据自身情况进行修改：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="attr">bind_udp_port</span> = <span class="number">7001</span></span><br><span class="line"><span class="attr">auto_token</span> = yourtoken</span><br><span class="line"></span><br><span class="line"><span class="attr">dashboard_port</span> = <span class="number">7500</span></span><br><span class="line"><span class="attr">dashboard_user</span> = user</span><br><span class="line"><span class="attr">dashboard_pwd</span> = password</span><br></pre></td></tr></table></figure><p>​解释：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">bind_port</span> = <span class="number">7000</span><span class="comment"># 绑定的端口，frp将会监听7000端口</span></span><br><span class="line"><span class="attr">bind_udp_port</span> = <span class="number">7001</span><span class="comment"># 绑定的udp端口，frp将会在7001监听udp请求</span></span><br><span class="line"><span class="attr">auto_token</span> = yourtoken<span class="comment"># 作为验证的token，客户端与服务端token相同才会连接</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dashboard_port</span> = <span class="number">7500</span><span class="comment"># 监控面板端口为7500</span></span><br><span class="line"><span class="attr">dashboard_user</span> = user<span class="comment"># 登录监控面板的账户为user</span></span><br><span class="line"><span class="attr">dashboard_pwd</span> = password<span class="comment"># 登录监控面板的密码为password</span></span><br></pre></td></tr></table></figure><p>​同时如果是云服务器，需要在云服务器的安全组中放行对应端口。</p><p>​如果开启了防火墙，需要放行开放的端口：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=7000/tcp --permanent<span class="comment">#开放7000端口，其他端口也依次开放</span></span><br><span class="line">firewall-cmd --reload    <span class="comment">#重新加载防火墙</span></span><br><span class="line">firewall-cmd --list-all<span class="comment">#查看防火墙信息，检查所需端口是否开放</span></span><br></pre></td></tr></table></figure><p>​尝试运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./frps -c ./frps.ini</span><br></pre></td></tr></table></figure><p><img src="/../post_img/1de118a4d0459d362fecb2455cd3c6ff/image-20241019145725172.png" alt="image-20241019145725172"></p><p>​像这样便是成功运行了。</p><p>​如果运行报错，大概率是frp版本有误，重新检查一下该选择哪个架构版本。</p><h5 id="开机自启动"><a href="#开机自启动" class="headerlink" title="开机自启动"></a>开机自启动</h5><p>​接下来可配置开机自启动，临时用一下就不需要了：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /lib/systemd/system/frps.service</span><br></pre></td></tr></table></figure><p>​将文件内容修改为：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[Unit]</span></span><br><span class="line"><span class="attr">Description</span>=frps service</span><br><span class="line"><span class="attr">After</span>=network.target syslog.target</span><br><span class="line"><span class="attr">Wants</span>=network.target</span><br><span class="line"></span><br><span class="line"><span class="section">[Service]</span></span><br><span class="line"><span class="attr">TimeoutStartSec</span>=<span class="number">30</span></span><br><span class="line"><span class="attr">ExecStart</span>=<span class="string">&#x27;ADDRESS&#x27;</span>/frps -c <span class="string">&#x27;ADDRESS&#x27;</span>/frps.ini<span class="comment"># 修改&#x27;ADDRESS&#x27;为frps.ini所在目录的绝对路径</span></span><br><span class="line"><span class="attr">ExecStop</span>=/bin/kill <span class="variable">$MAINPID</span></span><br><span class="line"></span><br><span class="line"><span class="section">[Install]</span></span><br><span class="line"><span class="attr">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure><p>​然后重载服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><p>​基本操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">systemctl start frps<span class="comment">#启动frps</span></span><br><span class="line">systemctl stop frps<span class="comment">#停止frps</span></span><br><span class="line">systemctl status frps<span class="comment">#查看frps运行状态</span></span><br><span class="line">systemctl <span class="built_in">enable</span> frps<span class="comment">#设置frps开机自启动  </span></span><br><span class="line">systemctl <span class="built_in">disable</span> frps<span class="comment">#取消frps开机自启动</span></span><br></pre></td></tr></table></figure><hr><h4 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h4><p>​以下以<code>window11</code>作为客户端为例。</p><h5 id="基础配置-1"><a href="#基础配置-1" class="headerlink" title="基础配置"></a>基础配置</h5><p>​首先将frp文件下载到合适的位置并解压，进入到解压后的目录，并在该目录处打开终端。</p><p>​同样的，删除<code>frps</code>开头的文件，这些是服务端的组件，客户端不需要。</p><p>​打开<code>frpc.ini</code>修改内容为：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = xxx.xxx.xx.xxx</span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span></span><br><span class="line"><span class="attr">auto_token</span> = frptoken</span><br><span class="line"><span class="attr">tls_enable</span> = ture</span><br><span class="line"></span><br><span class="line"><span class="section">[plugin socks]</span></span><br><span class="line"><span class="attr">type</span> = tcp</span><br><span class="line"><span class="attr">plugin</span> = socks5</span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">7499</span></span><br><span class="line"><span class="attr">plugin_user</span> = username</span><br><span class="line"><span class="attr">plugin_passwd</span> = password</span><br><span class="line"><span class="attr">use_encryption</span> = <span class="literal">true</span></span><br><span class="line"><span class="attr">use_compression</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>​解释：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[common]</span></span><br><span class="line"><span class="attr">server_addr</span> = xxx.xxx.xx.xxx<span class="comment"># 你的服务端公网ip</span></span><br><span class="line"><span class="attr">server_port</span> = <span class="number">7000</span><span class="comment"># 服务端绑定的端口号</span></span><br><span class="line"><span class="attr">auto_token</span> = frptoken<span class="comment"># 服务端中设置的token值</span></span><br><span class="line"><span class="attr">tls_enable</span> = ture<span class="comment"># 启用tls加密连接</span></span><br><span class="line"></span><br><span class="line"><span class="section">[plugin socks]</span><span class="comment"># 使用socks进行全局代理</span></span><br><span class="line"><span class="attr">type</span> = tcp<span class="comment"># 数据传输类型为tcp</span></span><br><span class="line"><span class="attr">plugin</span> = socks5<span class="comment"># 使用的插件为socks5</span></span><br><span class="line"><span class="attr">remote_port</span> = <span class="number">7499</span><span class="comment"># 代理的端口为7499</span></span><br><span class="line"><span class="attr">plugin_user</span> = username<span class="comment"># 连接的用户名</span></span><br><span class="line"><span class="attr">plugin_passwd</span> = password<span class="comment"># 连接的密码</span></span><br><span class="line"><span class="attr">use_encryption</span> = <span class="literal">true</span><span class="comment"># 开启数据加密，你也可以关闭</span></span><br><span class="line"><span class="attr">use_compression</span> = <span class="literal">true</span><span class="comment"># 开启压缩数据，可关闭</span></span><br></pre></td></tr></table></figure><p>​启动服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./frpc.exe -c frpc.ini</span><br></pre></td></tr></table></figure><p>​没有报错的话，应该就已经实现了内网穿透，其他主机可以通过服务端socks5进行代理后就可以访问到该客户端的内网服务了</p><hr><h3 id="Proxifier的使用"><a href="#Proxifier的使用" class="headerlink" title="Proxifier的使用"></a>Proxifier的使用</h3><p>​<code>Proxifier</code>是一个知名的代理工具，它允许用户将网络应用程序通过代理服务器进行连接。它本身只是一个代理管理的工具，可以设置和管理代理连接，但并不提供代理服务器。</p><p>​下载安装好<code>Proxifier</code>后，确保服务端与客户端服务均是开启状态。</p><p>​依次点击<code>Profile -&gt; Proxy Serves -&gt; add</code>，然后在<code>address</code>栏输入服务端<code>ip</code>，和<code>frpc.ini</code>中设置的<code>remote_port</code>，<code>Protocol</code>选择为<code>socks5</code></p><p><img src="/../post_img/1de118a4d0459d362fecb2455cd3c6ff/image-20241019165410522.png" alt="image-20241019165410522"></p><p>​勾选上<code>Enable</code>，用户名和密码是<code>frpc.ini</code>中设置的，最后点击<code>check</code>测试连接</p><p>​<img src="/../post_img/1de118a4d0459d362fecb2455cd3c6ff/image-20241019165520110.png" alt="image-20241019165520110"></p><p>​测试通过说明已经成功连接上了，点击<code>OK</code>保存</p><p>​最后打开<code>Profile -&gt; Procification Rules</code>，将<code>Action</code>选项中选择刚刚保存的代理服务器并点击<code>OK</code>保存即可</p><p><img src="/../post_img/1de118a4d0459d362fecb2455cd3c6ff/image-20241019165602553.png" alt="image-20241019165602553"></p><p>​<img src="/../post_img/1de118a4d0459d362fecb2455cd3c6ff/image-20241019165648425.png" alt="image-20241019165648425"></p><p>​为了避免流量较大，一般来说会将<code>Target Hosts</code>设置为内网ip，参考设置：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">localhost</span>; <span class="number">127.0.0.1</span>; %ComputerName%; ::<span class="number">1</span>;<span class="number">10</span>.*.*.*;<span class="number">172</span>.*.*.*;<span class="number">192</span>.<span class="number">168</span>.*.*;</span><br></pre></td></tr></table></figure><p>​完成所有配置后，此时如果在客户端中的局域网开启了一个WEB服务，那么公网其他主机便可以使用Proxifier通过服务端socks5的代理直接访问到内网的WEB服务。</p><p>​在linux中可使用<code>ProxyChains</code>，此处不再赘述。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul><li><a href="https://www.cnblogs.com/zbyisgudi/p/18284790">基于frp的内网穿透搭建指南 - zbyisgudi - 博客园 (cnblogs.com)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 内网穿透 </tag>
            
            <tag> frp </tag>
            
            <tag> proxifier </tag>
            
            <tag> 教程 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WP书写指南</title>
      <link href="/post/45ab8fde.html"/>
      <url>/post/45ab8fde.html</url>
      
        <content type="html"><![CDATA[<h2 id="什么是WP"><a href="#什么是WP" class="headerlink" title="什么是WP?"></a>什么是WP?</h2><p>​WP，全称是<code>WriteUp</code>，直译过来就是<code>把...整理成文</code>，我们通常理解为<code>记录了解题过程和思路的文档</code></p><hr><h2 id="为什么要写WP"><a href="#为什么要写WP" class="headerlink" title="为什么要写WP?"></a>为什么要写WP?</h2><ul><li>向赛事主办方证明该题目是自己解出的</li><li>一道题往往有不同解法，可以让师傅们相互学习，拓展知识</li><li>更好地整理思路</li><li>实力与努力的证明</li></ul><hr><h2 id="如何书写WP"><a href="#如何书写WP" class="headerlink" title="如何书写WP?"></a>如何书写WP?</h2><h3 id="包含的内容"><a href="#包含的内容" class="headerlink" title="包含的内容"></a>包含的内容</h3><p>​一个完整的WP往往包括了：</p><ul><li><p>题目名</p></li><li><p>解题思路</p></li><li><p>解题过程中用到的脚本代码</p></li><li><p>必要的截图</p><p>————</p></li></ul><p>​根据不同的情景或要求，还可能包含：</p><ul><li>WP所有者的信息</li><li>背景前言</li><li>拓展的知识点</li></ul><h3 id="格式的基本要求"><a href="#格式的基本要求" class="headerlink" title="格式的基本要求"></a>格式的基本要求</h3><p>​一般来说，<code>题目名</code>字体相对较大，<code>解题思路</code> <code>脚本代码</code> <code>截图</code>次之，一份WP中可以包含多个题目，相互之间最好空行以分隔；</p><p>​对于一份WP中具有多个题目的情况，需要按照题目类别归类放在一起，Misc题和Misc题放一起，Web题和Web题放一起；</p><p>​在保证WP完整详尽的基础上推荐进行美化便于阅读。</p><h3 id="编辑书写方式"><a href="#编辑书写方式" class="headerlink" title="编辑书写方式"></a>编辑书写方式</h3><p>​相较于Word文档，推荐使用<a href="https://markdown.com.cn/basic-syntax/">Makedown</a>语法进行编写，可以极大程度地提高美观程度，推荐软件Typora，下载链接在文章末尾</p><p>​以下是针对使用<a href="https://markdown.com.cn/basic-syntax/">Makedown</a>进行编写的简单说明，详细专业介绍请查看官方文档</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">若干个# + 空格 + 你的文字标题，字号随#数量减小而增大，最大为一级，最小为六级</span><br><span class="line"></span><br><span class="line">​```</span><br><span class="line">你的代码将代码规整放在一个方框中，指定了代码语言后还会有语法高亮</span><br><span class="line">​```</span><br><span class="line"></span><br><span class="line">---分割线</span><br></pre></td></tr></table></figure><h3 id="编写完成后"><a href="#编写完成后" class="headerlink" title="编写完成后"></a>编写完成后</h3><p>​在编写完你的WP后，请将其导出为PDF格式，一方面它便于传输，另一方面可以保护你的文档内容不被修改；</p><p>​对于Typora这个软件来说，依次点击<code>&quot;文件&quot;-&gt;&quot;导出&quot;-&gt;&quot;PDF&quot;-&gt;&quot;保存&quot;</code>即可将其保存在本地你的指定文件夹中，其他软件的导出方法请自行搜索；</p><p>​将导出的PDF文档重命名为正确合适的名称；</p><p>​至此恭喜你已经完成了WP的编写！</p><hr><h2 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h2><p>​如果还是不会书写WP，就请看看这一篇样例，以<code>WEB入门3-弱口令</code>为例</p><p>​</p><h4 id="某比赛WP"><a href="#某比赛WP" class="headerlink" title="某比赛WP"></a>某比赛WP</h4><p>​作者：BR</p><p>​排名：1</p><p>​得分：1000</p><h4 id="WEB入门3-弱口令"><a href="#WEB入门3-弱口令" class="headerlink" title="WEB入门3-弱口令"></a>WEB入门3-弱口令</h4><p>​开启实例，打开环境，发现一个登录框</p><p>​<img src="/../post_img/b4426b0652e050552f8fbcb99698f633/wp_0.png" alt="image-20241012215922985"></p><p>​题目提示到<code>用户名：admin</code>，但是没有告诉我们密码，经过几次尝试不行</p><p>​结合题目名称为<code>弱口令</code>，加上附件给了一个名为<code>1400.txt</code>的包含了很多字符串的文本文件，推测为弱密码登录爆破</p><p>​使用BurpSuite拦截抓包，将用户名设为<code>admin</code>，密码设为导入的文本文件</p><p><img src="/../post_img/b4426b0652e050552f8fbcb99698f633/wp_1.png" alt="image-20241012220716852"></p><p><img src="/../post_img/b4426b0652e050552f8fbcb99698f633/wp_2.png" alt="image-20241012220735899"></p><p>​点击开始攻击进行密码爆破，等待一段时间，出现响应体长度不同于其他响应体的信息，成功完成登录</p><p><img src="/../post_img/b4426b0652e050552f8fbcb99698f633/wp_3.png" alt="image-20241012220951699"></p><p>​同时获取到了flag：<code>XAUTCTF&#123;a5cec463-fd1e-4195-98db-668a99d730f6&#125;</code></p><hr><h2 id="附件"><a href="#附件" class="headerlink" title="附件"></a>附件</h2><ul><li><a href="https://www.alipan.com/s/oLV5MockxR2">Typora下载</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> WriteUp </tag>
            
            <tag> 网络安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>QQBot管理员手册V1.0</title>
      <link href="/post/d79b03c7.html"/>
      <url>/post/d79b03c7.html</url>
      
        <content type="html"><![CDATA[<h2 id="基础说明"><a href="#基础说明" class="headerlink" title="基础说明"></a>基础说明</h2><p>​- By BR</p><p>​本项目基于NapCat+python3.10，是在<a href="https://github.com/MoXueYao/QQBot">QQBot</a>基础上的二次开发，存在个人魔改部分，可在Window及Linux上部署</p><p>​@信息，命令信息，文本信息等，每个信息之间是以一个空格分隔的</p><p>​普通用户权限为1，管理员权限为2，超级管理员权限为3</p><p>​作用范围：friend(仅私聊)，group(仅群聊)，public(私聊与群聊均可)</p><hr><h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><p>​配置文件位于<code>pkg/config.py</code></p><p>​配置包括</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;loop_interval&quot;</span>: <span class="number">3</span>,  <span class="comment"># 循环间隔时间(s)</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;super_admin&quot;</span>: [<span class="number">1234567</span>],  <span class="comment"># 超级管理员QQ，权限等级3</span></span><br><span class="line"><span class="string">&quot;admin&quot;</span>: [<span class="number">12345678</span>],  <span class="comment"># 管理员QQ，权限等级2</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;command_prefix&quot;</span>: <span class="string">&quot;/&quot;</span>,  <span class="comment"># 命令前缀</span></span><br><span class="line"><span class="string">&quot;only_At&quot;</span>: <span class="literal">False</span>,  <span class="comment"># 是否仅允许被@时触发</span></span><br><span class="line"><span class="string">&quot;Bot_QQ&quot;</span>: <span class="number">123456</span>,  <span class="comment"># Bot的QQ(仅在only_At为True时生效)</span></span><br><span class="line"><span class="string">&quot;Bot_name&quot;</span>: <span class="string">&quot;Bot&quot;</span>,</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;group_limit&quot;</span>: <span class="literal">False</span>,  <span class="comment"># 是否对Bot的响应群聊进行限制</span></span><br><span class="line"><span class="string">&quot;group_list&quot;</span>: [],  <span class="comment"># 如果限制，允许的响应群聊</span></span><br></pre></td></tr></table></figure><p>​NapCatQQ配置</p><p>​将<code>NapCat\config\onebot11_你的qq号.json</code>中的内容改为</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;network&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;httpServers&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;httpServer&quot;</span>,</span><br><span class="line">        <span class="string">&quot;enable&quot;</span>: true,</span><br><span class="line">        <span class="string">&quot;port&quot;</span>: <span class="number">3000</span>,</span><br><span class="line">        <span class="string">&quot;host&quot;</span>: <span class="string">&quot;0.0.0.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;enableCors&quot;</span>: true,</span><br><span class="line">        <span class="string">&quot;enableWebsocket&quot;</span>: true,</span><br><span class="line">        <span class="string">&quot;messagePostFormat&quot;</span>: <span class="string">&quot;array&quot;</span>,</span><br><span class="line">        <span class="string">&quot;token&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;debug&quot;</span>: false</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;httpSseServers&quot;</span>: [],</span><br><span class="line">    <span class="string">&quot;httpClients&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;httpClient&quot;</span>,</span><br><span class="line">        <span class="string">&quot;enable&quot;</span>: true,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;http://localhost:8080&quot;</span>,</span><br><span class="line">        <span class="string">&quot;messagePostFormat&quot;</span>: <span class="string">&quot;array&quot;</span>,</span><br><span class="line">        <span class="string">&quot;reportSelfMessage&quot;</span>: false,</span><br><span class="line">        <span class="string">&quot;token&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;debug&quot;</span>: false</span><br><span class="line">      &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="string">&quot;websocketServers&quot;</span>: [],</span><br><span class="line">    <span class="string">&quot;websocketClients&quot;</span>: []</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;musicSignUrl&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="string">&quot;enableLocalFile2Url&quot;</span>: false,</span><br><span class="line">  <span class="string">&quot;parseMultMsg&quot;</span>: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><hr><h2 id="插件目录"><a href="#插件目录" class="headerlink" title="插件目录"></a>插件目录</h2><h3 id="about"><a href="#about" class="headerlink" title="about"></a>about</h3><h3 id="get-match"><a href="#get-match" class="headerlink" title="get_match"></a>get_match</h3><h3 id="just-group"><a href="#just-group" class="headerlink" title="just_group"></a>just_group</h3><h3 id="match-monitoring"><a href="#match-monitoring" class="headerlink" title="match_monitoring"></a>match_monitoring</h3><h3 id="praise"><a href="#praise" class="headerlink" title="praise"></a>praise</h3><h3 id="QQ-like"><a href="#QQ-like" class="headerlink" title="QQ_like"></a>QQ_like</h3><h3 id="time-message"><a href="#time-message" class="headerlink" title="time_message"></a>time_message</h3><h3 id="tongyi"><a href="#tongyi" class="headerlink" title="tongyi"></a>tongyi</h3><hr><h2 id="命令目录"><a href="#命令目录" class="headerlink" title="命令目录"></a>命令目录</h2><h3 id="help"><a href="#help" class="headerlink" title="&#x2F;help"></a>&#x2F;help</h3><ul><li><p>来源：系统命令</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/help</code></p></li><li><p>作用：查看当前环境下的命令目录</p></li></ul><h3 id="reload"><a href="#reload" class="headerlink" title="&#x2F;reload"></a>&#x2F;reload</h3><ul><li><p>来源：系统命令</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：3</p></li><li><p>用法：<code>/reload</code></p></li><li><p>作用：重载所有插件</p></li></ul><h3 id="点赞"><a href="#点赞" class="headerlink" title="&#x2F;点赞"></a>&#x2F;点赞</h3><ul><li><p>来源：QQ_like插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/点赞 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="built_in">set</span> &lt;status&gt;          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    add &lt;QQ_id&gt;           添加待点赞QQ号</span><br><span class="line">    <span class="keyword">del</span> &lt;QQ_id&gt;           删除待点赞QQ号</span><br></pre></td></tr></table></figure></li><li><p>作用：明天晚上12点整为列表用户的名片点赞</p></li></ul><h3 id="比赛监听"><a href="#比赛监听" class="headerlink" title="&#x2F;比赛监听"></a>&#x2F;比赛监听</h3><ul><li><p>来源：match_monitoring插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/比赛监听 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="built_in">set</span> &lt;status&gt;          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    add &lt;QQ_group_id&gt;     添加通报群聊QQ号</span><br><span class="line">    <span class="keyword">del</span> &lt;QQ_group_id&gt;     删除通报群聊QQ号</span><br></pre></td></tr></table></figure></li><li><p>作用：监听GZCTF平台比赛实况，包括一血二血三血，题目上新，新增公告等的提示</p></li></ul><h3 id="查询比赛"><a href="#查询比赛" class="headerlink" title="&#x2F;查询比赛"></a>&#x2F;查询比赛</h3><ul><li><p>来源：get_match插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/查询比赛 [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arguments表示指定页码，默认为<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>作用：查询近期国内网安类比赛，消息来源：<a href="https://github.com/ProbiusOfficial/Hello-CTFtime">ProbiusOfficial&#x2F;Hello-CTFtime: 【Hello CTF】国内外赛事聚合 (github.com)</a></p></li></ul><h3 id="查询国外比赛"><a href="#查询国外比赛" class="headerlink" title="&#x2F;查询国外比赛"></a>&#x2F;查询国外比赛</h3><ul><li><p>来源：get_match插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/查询国外比赛 [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arguments表示指定页码，默认为<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>作用：查询近期国内网安类比赛，消息来源：<a href="https://github.com/ProbiusOfficial/Hello-CTFtime">ProbiusOfficial&#x2F;Hello-CTFtime: 【Hello CTF】国内外赛事聚合 (github.com)</a></p></li></ul><h3 id="响应群聊"><a href="#响应群聊" class="headerlink" title="&#x2F;响应群聊"></a>&#x2F;响应群聊</h3><ul><li><p>来源：just_group插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/响应群聊 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="built_in">set</span> &lt;status&gt;          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    add &lt;QQ_group_id&gt;     添加允许响应群聊</span><br><span class="line">    <span class="keyword">del</span> &lt;QQ_group_id&gt;     删除允许响应群聊</span><br></pre></td></tr></table></figure></li><li><p>作用：限制Bot能够响应的群聊，在允许响应群聊外的群聊，Bot将会无视其信息</p></li></ul><h3 id="ai"><a href="#ai" class="headerlink" title="&#x2F;ai"></a>&#x2F;ai</h3><ul><li><p>来源：tongyi插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/ai [subcommand]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    cls          清除发出信息的用户与ai的聊天记录</span><br></pre></td></tr></table></figure></li><li><p>作用：用户层对于ai的管理</p></li></ul><h3 id="ai管理"><a href="#ai管理" class="headerlink" title="&#x2F;ai管理"></a>&#x2F;ai管理</h3><ul><li><p>来源：tongyi插件</p></li><li><p>作用范围：friend</p></li><li><p>权限要求：2</p></li><li><p>用法：<code>/ai管理 [subcommand] [arguments]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">subcommand:</span><br><span class="line">    <span class="built_in">set</span> &lt;status&gt;          设置插件状态，<span class="string">&quot;True,true,1&quot;</span>表示启用，<span class="string">&quot;False,fasle,0&quot;</span>表示禁用</span><br><span class="line">    add &lt;QQ_id&gt;       添加黑名单用户</span><br><span class="line">    <span class="keyword">del</span> &lt;QQ_id&gt;       删除黑名单用户</span><br><span class="line">    cls [QQ_id]  清除指定用户与ai的聊天记录(保留预设),未传入QQ_id参数则全清除</span><br><span class="line">    ccls [QQ_id]  清除指定用户与ai的聊天记录(不保留预设),未传入QQ_id参数则全清除</span><br><span class="line">    preset [<span class="built_in">set</span> &lt;preset_id&gt;]设置当前预设，若未传入<span class="built_in">set</span>命令，则展示当前使用预设及可选预设</span><br><span class="line">    show将当前存在会话的对话信息保存并以md文档发送给发出命令者</span><br></pre></td></tr></table></figure></li><li><p>作用：管理层对于ai的管理</p></li></ul><h3 id="关于"><a href="#关于" class="headerlink" title="&#x2F;关于"></a>&#x2F;关于</h3><ul><li><p>来源：about插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/关于</code></p></li><li><p>作用：展示Bot基本信息</p></li></ul><h3 id="夸夸"><a href="#夸夸" class="headerlink" title="&#x2F;夸夸"></a>&#x2F;夸夸</h3><ul><li><p>来源：praise插件</p></li><li><p>作用范围：public</p></li><li><p>权限要求：1</p></li><li><p>用法：<code>/夸夸 [argumnets]</code></p></li><li><p>参数：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arguments表示对谁使用夸夸，如果不存在该参数，默认对使用命令者使用夸夸</span><br></pre></td></tr></table></figure></li><li><p>作用：从词库中随机抽取夸奖文案并回复</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 我爱发明 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> QQBot </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>KaliLinux安装配置指南</title>
      <link href="/post/461f56d.html"/>
      <url>/post/461f56d.html</url>
      
        <content type="html"><![CDATA[<h1 id="KaliLinux安装"><a href="#KaliLinux安装" class="headerlink" title="KaliLinux安装"></a>KaliLinux安装</h1><p>​持续更新中~</p><h1 id="KaliLinux配置"><a href="#KaliLinux配置" class="headerlink" title="KaliLinux配置"></a>KaliLinux配置</h1><h2 id="更换国内软件源"><a href="#更换国内软件源" class="headerlink" title="更换国内软件源"></a>更换国内软件源</h2><p>​kali默认软件源安装可比较慢，推荐配置国内源提高速度</p><ol><li><code>su root</code> 进入root 模式</li><li><code>vim /etc/apt/sources.list</code> 编辑软件源配置文件</li><li>按 i 进入 vim 的编辑模式，用#将deb一行的内容注释掉，然后换成国内源地址</li><li>软件源(选择一个即可)</li></ol><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 官方源(国内较慢)</span></span><br><span class="line">deb http://http.kali.org/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://http.kali.org/kali kali-rolling main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中科大源</span></span><br><span class="line">deb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 阿里云源</span></span><br><span class="line">deb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清华大学源</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浙大源</span></span><br><span class="line">deb http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line">deb-src http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line"></span><br><span class="line"><span class="comment"># 东软大学源</span></span><br><span class="line">deb http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib</span><br><span class="line">deb-src http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新加坡kali源(国内较慢)</span></span><br><span class="line">deb http://mirror.nus.edu.sg/kali/kali/ kali main non-free contrib</span><br><span class="line">deb-src http://mirror.nus.edu.sg/kali/kali/ kali main non-free contrib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 163 Kali源</span></span><br><span class="line">deb http://mirrors.163.com/debian wheezy main non-free contrib</span><br><span class="line">deb-src http://mirrors.163.com/debian wheezy main non-free contrib</span><br></pre></td></tr></table></figure><ol start="5"><li>Esc，然后输入 wq 保存退出即可</li><li>使用<code>apt-get update</code>更新索引</li><li>使用<code>apt-get upgrade</code>更新软件</li></ol><h2 id="pip换源-清华源"><a href="#pip换源-清华源" class="headerlink" title="pip换源(清华源)"></a>pip换源(清华源)</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/.pip 或 <span class="built_in">mkdir</span> -p ~/.config/pip</span><br><span class="line"><span class="built_in">cd</span> ~/.pip 或 <span class="built_in">cd</span> ~/.config/pip</span><br><span class="line">vim pip.conf</span><br></pre></td></tr></table></figure><p>修改pip.conf的内容为</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">index-url</span>=https://pypi.tuna.tsinghua.edu.cn/simple</span><br><span class="line"> </span><br><span class="line"><span class="attr">timeout</span> = <span class="number">6000</span></span><br><span class="line"> </span><br><span class="line"><span class="section">[install]</span></span><br><span class="line"> </span><br><span class="line"><span class="attr">trusted-host</span>=pypi.tuna.tsinghua.edu.cn</span><br><span class="line"> </span><br><span class="line"><span class="attr">disable-pip-version-check</span> = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>其他源</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 豆瓣</span></span><br><span class="line">https://pypi.douban.com/</span><br><span class="line"><span class="comment"># 华中理工大学</span></span><br><span class="line">https://pypi.hustunique.com/</span><br><span class="line"><span class="comment"># 山东理工大学</span></span><br><span class="line">https://pypi.sdutlinux.org/</span><br><span class="line"><span class="comment"># 中国科学技术大学</span></span><br><span class="line">https://pypi.mirrors.ustc.edu.cn/</span><br><span class="line"><span class="comment"># 阿里云</span></span><br><span class="line">https://mirrors.aliyun.com/pypi/simple/</span><br><span class="line"><span class="comment"># 清华大学</span></span><br><span class="line">https://pypi.tuna.tsinghua.edu.cn/simple/</span><br></pre></td></tr></table></figure><h2 id="Bash开启网络重定向选项"><a href="#Bash开启网络重定向选项" class="headerlink" title="Bash开启网络重定向选项"></a>Bash开启网络重定向选项</h2><p>​kalilinux预装的bash可能未开启bash的网络重定向功能，<code>-e</code>不能使用，反弹shell时也会提示<code>/dev/tcp</code>不存在，就没法利用bash反弹shell了，为了使用bash的网络重定向功能，需要重新编译bash并加上<code>–enable-net-redirections</code></p><ol><li>查询当前使用bash版本</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash --version</span><br></pre></td></tr></table></figure><ol start="2"><li>下载对应版本的bash</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://ftp.gnu.org/gnu/bash/bash-5.1.16.tar.gz</span><br></pre></td></tr></table></figure><ol start="3"><li>解压并进入到解压后的目录</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf bash-5.1.16.tar.gz</span><br><span class="line"><span class="built_in">cd</span> bash-5.1.16</span><br></pre></td></tr></table></figure><ol start="4"><li>配置</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/bash --enable-net-redirections</span><br></pre></td></tr></table></figure><ol start="5"><li>编译和安装</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">make</span><br><span class="line"><span class="built_in">sudo</span> make install</span><br></pre></td></tr></table></figure><ol start="6"><li>更换使用的shell并重启</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">echo</span> <span class="string">&quot;/usr/local/bash/bin/bash&quot;</span> &gt;&gt; /etc/shells</span><br><span class="line"><span class="built_in">sudo</span> chsh -s /usr/local/bash/bin/bash  <span class="comment"># 这一步如果失败就手动修改/etc/passwd中的shell路径</span></span><br><span class="line"><span class="built_in">sudo</span> reboot</span><br></pre></td></tr></table></figure><h1 id="其他软件的安装"><a href="#其他软件的安装" class="headerlink" title="其他软件的安装"></a>其他软件的安装</h1><h2 id="xrdp"><a href="#xrdp" class="headerlink" title="xrdp"></a>xrdp</h2><p>​官方给出的xrdp配置脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[i] Updating and upgrading Kali (this will take a while)&quot;</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get dist-upgrade -y</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[i] Installing Xfce4 &amp; xrdp (this will take a while as well)&quot;</span></span><br><span class="line">apt-get install -y kali-desktop-xfce xorg xrdp</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;[i] Configuring xrdp to listen to port 3390 (but not starting the service)&quot;</span></span><br><span class="line">sed -i <span class="string">&#x27;s/port=3389/port=3390/g&#x27;</span> /etc/xrdp/xrdp.ini</span><br></pre></td></tr></table></figure><p>​将其保存为<code>xrdp-install.sh</code>文件后，执行<code>sudo bash xrdp-install.sh</code>即可</p><p>​以下为一些可能用到的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 命令行启动</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl set-default multi-user.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 图形化界面启动</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl set-default graphical.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置开机自启</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> xrdp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 启动与关闭</span></span><br><span class="line"><span class="built_in">sudo</span> systemctl start xrdp</span><br><span class="line"><span class="built_in">sudo</span> systemctl stop xrdp</span><br><span class="line"></span><br><span class="line"><span class="comment"># 避免ssl证书无法验证，将xrdp用户加入ssl-cert用户组</span></span><br><span class="line"><span class="built_in">sudo</span> adduser xrdp ssl-cert</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改配置后记得重启</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure><p>​安装远程连接xrdp的客户端（二选一即可）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gnome-boxes</span><br><span class="line"><span class="built_in">sudo</span> apt install remmina</span><br></pre></td></tr></table></figure><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ul><li><a href="https://www.bilibili.com/read/cv22949847/">Kali 更换国内源（全部版本通用） - 哔哩哔哩 (bilibili.com)</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 技术分享 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 教程 </tag>
            
            <tag> kali </tag>
            
            <tag> linux </tag>
            
            <tag> 安装 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
